{"version":3,"sources":["webpack:///./src/views/auth/Register.vue?cada","webpack:///./src/views/form-rules/register.js","webpack:///src/views/auth/Register.vue","webpack:///./src/views/auth/Register.vue?5cb3","webpack:///./src/views/auth/Register.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","registerError","_e","_b","ref","model","rules","layout","slot","_v","value","callback","$$v","$set","expression","passwordVisible","on","$event","matchingPasswordVisible","tailFormItemLayout","agreement","submitForm","handleNavLogin","staticRenderFns","checkUsername","rule","AUTH_API","then","res","data","Error","catch","checkEmail","checkMobile","validatePass","form","matchingPassword","validateField","validateMatchingPass","password","registerRules","username","required","message","trigger","pattern","asyncValidator","validator","name","mobile","email","type","enum","labelCol","wrapperCol","xs","span","offset","sm","methods","$refs","formName","validate","valid","$router","push","computed","mounted","regForm","component"],"mappings":"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","file":"static/js/register.1549c234.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-row',{staticStyle:{\"min-height\":\"100vh\"},attrs:{\"type\":\"flex\",\"justify\":\"center\",\"align\":\"middle\"}},[_c('a-col',{attrs:{\"span\":\"16\"}},[(_vm.registerError)?_c('div',[_c('a-alert',{attrs:{\"message\":\"注册失败\",\"description\":_vm.registerError,\"type\":\"error\"}})],1):_vm._e(),_c('a-form-model',_vm._b({ref:\"regForm\",attrs:{\"model\":_vm.model,\"rules\":_vm.rules}},'a-form-model',_vm.layout,false),[_c('a-form-model-item',{attrs:{\"has-feedback\":\"\",\"prop\":\"username\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" 用户名 \"),_c('a-tooltip',{attrs:{\"title\":\"用于登录，只允许英文字母和数字组合\"}},[_c('a-icon',{attrs:{\"type\":\"question-circle-o\"}})],1)],1),_c('a-input',{attrs:{\"type\":\"text\",\"autocomplete\":\"off\"},model:{value:(_vm.model.username),callback:function ($$v) {_vm.$set(_vm.model, \"username\", $$v)},expression:\"model.username\"}})],1),_c('a-form-model-item',{attrs:{\"prop\":\"password\",\"label\":\"密码\"}},[_c('a-input',{attrs:{\"type\":_vm.passwordVisible ? 'text' : 'password',\"autocomplete\":\"off\"},model:{value:(_vm.model.password),callback:function ($$v) {_vm.$set(_vm.model, \"password\", $$v)},expression:\"model.password\"}},[_c('a-icon',{attrs:{\"slot\":\"addonAfter\",\"type\":_vm.passwordVisible ? 'eye-invisible' : 'eye'},on:{\"click\":function($event){_vm.passwordVisible = !_vm.passwordVisible}},slot:\"addonAfter\"})],1)],1),_c('a-form-model-item',{attrs:{\"prop\":\"matchingPassword\",\"label\":\"确认密码\"}},[_c('a-input',{attrs:{\"type\":_vm.matchingPasswordVisible ? 'text' : 'password',\"autocomplete\":\"off\"},model:{value:(_vm.model.matchingPassword),callback:function ($$v) {_vm.$set(_vm.model, \"matchingPassword\", $$v)},expression:\"model.matchingPassword\"}},[_c('a-icon',{attrs:{\"slot\":\"addonAfter\",\"type\":_vm.matchingPasswordVisible ? 'eye-invisible' : 'eye'},on:{\"click\":function($event){_vm.matchingPasswordVisible = !_vm.matchingPasswordVisible}},slot:\"addonAfter\"})],1)],1),_c('a-form-model-item',{attrs:{\"has-feedback\":\"\",\"prop\":\"name\",\"label\":\"姓名\"}},[_c('a-input',{attrs:{\"type\":\"text\",\"autocomplete\":\"off\"},model:{value:(_vm.model.name),callback:function ($$v) {_vm.$set(_vm.model, \"name\", $$v)},expression:\"model.name\"}})],1),_c('a-form-model-item',{attrs:{\"has-feedback\":\"\",\"prop\":\"email\",\"label\":\"电子邮件\"}},[_c('a-input',{attrs:{\"type\":\"text\",\"autocomplete\":\"off\"},model:{value:(_vm.model.email),callback:function ($$v) {_vm.$set(_vm.model, \"email\", $$v)},expression:\"model.email\"}})],1),_c('a-form-model-item',{attrs:{\"has-feedback\":\"\",\"prop\":\"mobile\",\"label\":\"手机\"}},[_c('a-input',{attrs:{\"type\":\"text\",\"autocomplete\":\"off\"},model:{value:(_vm.model.mobile),callback:function ($$v) {_vm.$set(_vm.model, \"mobile\", $$v)},expression:\"model.mobile\"}},[_c('a-select',{staticStyle:{\"width\":\"70px\"},attrs:{\"slot\":\"addonBefore\",\"defaultValue\":\"86\"},slot:\"addonBefore\"},[_c('a-select-option',{attrs:{\"value\":\"86\"}},[_vm._v(\"+86\")]),_c('a-select-option',{attrs:{\"value\":\"1\"}},[_vm._v(\"+1\")])],1)],1)],1),_c('a-form-model-item',_vm._b({attrs:{\"prop\":\"agreement\"}},'a-form-model-item',_vm.tailFormItemLayout,false),[_c('a-checkbox',{attrs:{\"checked\":_vm.model.agreement},model:{value:(_vm.model.agreement),callback:function ($$v) {_vm.$set(_vm.model, \"agreement\", $$v)},expression:\"model.agreement\"}},[_vm._v(\" 我已经阅读了 \"),_c('a',{attrs:{\"href\":\"\"}},[_vm._v(\"用户注册协议\")])])],1),_c('a-form-model-item',_vm._b({},'a-form-model-item',_vm.tailFormItemLayout,false),[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('regForm')}}},[_vm._v(\"注册\")]),_c('a-button',{attrs:{\"type\":\"link\"},on:{\"click\":_vm.handleNavLogin}},[_vm._v(\"已经有账户，去登录\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import AUTH_API from \"@/services/auth.service\";\nconst checkUsername = (rule, value, callback) => {\n  if (value === \"\") {\n    callback();\n  }\n  AUTH_API.checkUsername(value)\n    .then((res) => {\n      if (res.data) {\n        callback(new Error(\"用户名已存在！\"));\n      }\n      callback();\n    })\n    .catch(() => {\n      callback(new Error(\"服务器异常\"));\n    });\n};\nconst checkEmail = (rule, value, callback) => {\n  if (value === \"\") {\n    callback();\n  }\n  AUTH_API.checkEmail(value)\n    .then((res) => {\n      if (res.data) {\n        callback(new Error(\"电子邮件已存在！\"));\n      }\n      callback();\n    })\n    .catch(() => {\n      callback(new Error(\"服务器异常\"));\n    });\n};\nconst checkMobile = (rule, value, callback) => {\n  if (value === \"\") {\n    callback();\n  }\n  AUTH_API.checkMobile(value)\n    .then((res) => {\n      if (res.data) {\n        callback(new Error(\"手机号码已存在！\"));\n      }\n      callback();\n    })\n    .catch(() => {\n      callback(new Error(\"服务器异常\"));\n    });\n};\nconst validatePass = (model, form) => {\n  return (rule, value, callback) => {\n    if (model.matchingPassword !== \"\") {\n      form.validateField(\"matchingPassword\");\n    }\n    callback();\n  };\n};\nconst validateMatchingPass = (model) => {\n  return (rule, value, callback) => {\n    if (value !== \"\" && value !== model.password) {\n      callback(new Error(\"密码和确认密码不一致！\"));\n    } else {\n      callback();\n    }\n  };\n};\nexport const registerRules = (model, form) => ({\n  username: [\n    {\n      required: true,\n      message: \"用户名为必填项！\",\n      trigger: \"blur\",\n    },\n    {\n      pattern: /^[a-zA-Z0-9_]{3,50}$/,\n      message: \"用户名仅能使用英文字母和数字以及下划线，长度在3-50个字符\",\n      trigger: \"blur\",\n    },\n    {\n      asyncValidator: checkUsername,\n      trigger: \"blur\",\n    },\n  ],\n  password: [\n    {\n      required: true,\n      message: \"密码为必填项！\",\n      trigger: \"blur\",\n    },\n    {\n      pattern: /^.*(?=.{8,})(?=.*\\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*? ]).*$/,\n      message:\n        \"密码最少8位，包括至少1个大写字母，1个小写字母，1个数字，1个特殊字符！\",\n      trigger: \"blur\",\n    },\n    {\n      validator: validatePass(model, form),\n      trigger: \"blur\",\n    },\n  ],\n  matchingPassword: [\n    {\n      required: true,\n      message: \"确认密码为必填项！\",\n      trigger: \"blur\",\n    },\n    {\n      validator: validateMatchingPass(model),\n      trigger: \"blur\",\n    },\n  ],\n  name: [\n    {\n      required: true,\n      message: \"姓名为必填项\",\n      trigger: \"blur\",\n    },\n    {\n      pattern: /^([\\u4e00-\\u9fa5]{2,20}|[a-zA-Z.\\s]{2,50})$/,\n      message:\n        \"中文姓名长度为2-20个字符，不能有空格。英文姓名在2-50个字符，可以有空格和小数点\",\n      trigger: \"blur\",\n    },\n  ],\n  mobile: [\n    {\n      required: true,\n      message: \"手机号为必填项！\",\n      trigger: \"blur\",\n    },\n    {\n      pattern: /^1[3-9]\\d{9}$/,\n      message: \"手机号不合法\",\n      trigger: \"blur\",\n    },\n    {\n      asyncValidator: checkMobile,\n      trigger: \"blur\",\n    },\n  ],\n  email: [\n    {\n      required: true,\n      message: \"电子邮件为必填项！\",\n      trigger: \"blur\",\n    },\n    {\n      pattern: /^\\S+@\\S+\\.\\S+$/,\n      message: \"电子邮件地址不合法！\",\n      trigger: \"blur\",\n    },\n    {\n      asyncValidator: checkEmail,\n      trigger: \"blur\",\n    },\n  ],\n  agreement: [\n    {\n      type: \"enum\",\n      enum: [true],\n      message: \"注册前请阅读用户注册协议，并勾选同意\",\n      trigger: \"change\",\n    },\n  ],\n});\n","<template>\n  <a-row type=\"flex\" justify=\"center\" align=\"middle\" style=\"min-height: 100vh\">\n    <a-col span=\"16\">\n      <!-- 错误信息显示 -->\n      <div v-if=\"registerError\">\n        <a-alert\n          message=\"注册失败\"\n          v-bind:description=\"registerError\"\n          type=\"error\"\n        />\n      </div>\n      <!-- 表单 -->\n      <a-form-model ref=\"regForm\" :model=\"model\" :rules=\"rules\" v-bind=\"layout\">\n        <!-- 用户名 -->\n        <a-form-model-item has-feedback prop=\"username\">\n          <!-- 自定义 Label -->\n          <span slot=\"label\">\n            用户名&nbsp;\n            <a-tooltip title=\"用于登录，只允许英文字母和数字组合\">\n              <a-icon type=\"question-circle-o\" />\n            </a-tooltip>\n          </span>\n          <a-input v-model=\"model.username\" type=\"text\" autocomplete=\"off\" />\n        </a-form-model-item>\n        <!-- 密码 -->\n        <a-form-model-item prop=\"password\" label=\"密码\">\n          <a-input\n            v-model=\"model.password\"\n            :type=\"passwordVisible ? 'text' : 'password'\"\n            autocomplete=\"off\"\n          >\n            <!-- 显示/隐藏密码图标 -->\n            <a-icon\n              :type=\"passwordVisible ? 'eye-invisible' : 'eye'\"\n              slot=\"addonAfter\"\n              @click=\"passwordVisible = !passwordVisible\"\n            />\n          </a-input>\n        </a-form-model-item>\n        <!-- 确认密码 -->\n        <a-form-model-item prop=\"matchingPassword\" label=\"确认密码\">\n          <a-input\n            v-model=\"model.matchingPassword\"\n            :type=\"matchingPasswordVisible ? 'text' : 'password'\"\n            autocomplete=\"off\"\n          >\n            <a-icon\n              :type=\"matchingPasswordVisible ? 'eye-invisible' : 'eye'\"\n              slot=\"addonAfter\"\n              @click=\"matchingPasswordVisible = !matchingPasswordVisible\"\n            />\n          </a-input>\n        </a-form-model-item>\n        <!-- 姓名 -->\n        <a-form-model-item has-feedback prop=\"name\" label=\"姓名\">\n          <a-input v-model=\"model.name\" type=\"text\" autocomplete=\"off\" />\n        </a-form-model-item>\n        <!-- 电子邮件 -->\n        <a-form-model-item has-feedback prop=\"email\" label=\"电子邮件\">\n          <a-input v-model=\"model.email\" type=\"text\" autocomplete=\"off\" />\n        </a-form-model-item>\n        <!-- 手机号 -->\n        <a-form-model-item has-feedback prop=\"mobile\" label=\"手机\">\n          <a-input v-model=\"model.mobile\" type=\"text\" autocomplete=\"off\">\n            <a-select slot=\"addonBefore\" defaultValue=\"86\" style=\"width: 70px\">\n              <a-select-option value=\"86\">+86</a-select-option>\n              <a-select-option value=\"1\">+1</a-select-option>\n            </a-select>\n          </a-input>\n        </a-form-model-item>\n        <!-- 用户注册协议 -->\n        <a-form-model-item prop=\"agreement\" v-bind=\"tailFormItemLayout\">\n          <a-checkbox v-model=\"model.agreement\" :checked=\"model.agreement\">\n            我已经阅读了\n            <a href>用户注册协议</a>\n          </a-checkbox>\n        </a-form-model-item>\n        <!-- 按钮区域 -->\n        <a-form-model-item v-bind=\"tailFormItemLayout\">\n          <a-button type=\"primary\" @click=\"submitForm('regForm')\"\n            >注册</a-button\n          >\n          <a-button type=\"link\" @click=\"handleNavLogin\"\n            >已经有账户，去登录</a-button\n          >\n        </a-form-model-item>\n      </a-form-model>\n    </a-col>\n  </a-row>\n</template>\n\n<script>\nimport { registerRules } from \"../form-rules/register\";\nexport default {\n  data() {\n    return {\n      passwordVisible: false,\n      matchingPasswordVisible: false,\n      layout: {\n        labelCol: { span: 4 },\n        wrapperCol: { span: 12 },\n      },\n      tailFormItemLayout: {\n        wrapperCol: {\n          xs: {\n            span: 24,\n            offset: 0,\n          },\n          sm: {\n            span: 16,\n            offset: 8,\n          },\n        },\n      },\n      model: {\n        username: \"\",\n        password: \"\",\n        matchingPassword: \"\",\n        name: \"\",\n        mobile: \"\",\n        email: \"\",\n        agreement: false,\n      },\n      rules: {},\n    };\n  },\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          this.$store.dispatch(\"registerModule/register\", this.model);\n          return true;\n        } else {\n          return false;\n        }\n      });\n    },\n    handleNavLogin() {\n      this.$router.push(\"/login\");\n    },\n  },\n  computed: {\n    registerError: function() {\n      return this.$store.state.register?.error;\n    },\n  },\n  mounted() {\n    // 在加载之后进行验证规则的更新，否则 model 是 undefined\n    this.rules = registerRules(this.model, this.$refs.regForm);\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=77446318&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}